(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[391],{9348:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/address-list",function(){return l(5303)}])},5303:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return u}});var t=l(5893),a=l(7294),i=l(3896),r=l.n(i),c=l(1365),n=l(8509),d=l(7066),x=l(1921),m=l(7241),o=l(1664),p=l.n(o),h=()=>{let e=(0,m.ej)("token"),[s,l]=(0,a.useState)(null),[i,o]=(0,a.useState)(null),[h,u]=(0,a.useState)([]),[f,j]=(0,a.useState)(null),[v,g]=(0,a.useState)(!1),[N,w]=(0,a.useState)(0),[C,b]=(0,a.useState)(!1),[_,y]=(0,a.useState)({first_name:"",last_name:"",email:"",phone_number:""});(0,a.useEffect)(()=>{(async()=>{try{let e=await (0,n.Uv)();y(e)}catch(e){console.error("Error fetching data:",e)}})()},[]),(0,a.useEffect)(()=>{(async()=>{try{var e;let s=await (0,n.YY)();l(s),o(null===(e=s[0])||void 0===e?void 0:e.id)}catch(e){console.error("Error fetching data:",e)}})()},[]),(0,a.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("cart"))||[];u(e),w(e.reduce((e,s)=>e+s.quantity*s.price,0))},[]);let E=e=>{o(e)},A=s=>{d.Z.delete(x.n+"api/accounts/address/?address_id=".concat(s),{headers:{Authorization:"Bearer "+e}}).then(e=>{console.log("Item deleted successfully"),window.location.reload()}).catch(e=>{console.error("Error deleting item:",e)})};return(0,t.jsx)("div",{className:r().formpage,children:(0,t.jsxs)("div",{className:r().form+" container max-w-5xl w-11/12 mx-auto mb-20",children:[(0,t.jsxs)("div",{className:r().navbar+" mb-20 border-b pb-2 mt-10 w-3/4 max-w-[1000px] flex mx-auto justify-between",children:[(0,t.jsxs)("div",{className:r().active+" flex justify-center gap-1 items-center flex-col",children:[(0,t.jsx)("p",{className:"text-white max-md:text-xs w-[40px] h-[40px] max-md:w-[25px] max-md:h-[25px] max-md:text-xs flex items-center justify-center bg-black",children:"1"}),(0,t.jsx)("p",{className:"max-md:text-xs",children:"DELIVERY INFO"})]}),(0,t.jsxs)("div",{className:r().item+" flex justify-center gap-1 items-center flex-col",children:[(0,t.jsx)("p",{className:"text-white max-md:text-xs w-[40px] h-[40px] max-md:w-[25px] max-md:h-[25px] max-md:text-xs flex items-center justify-center bg-[#A3A3A3]",children:"2"}),(0,t.jsx)("p",{className:"text-[#A3A3A3] max-md:text-xs",children:"PAYMENT"})]}),(0,t.jsxs)("div",{className:r().item+" flex justify-center gap-1 items-center flex-col",children:[(0,t.jsx)("p",{className:"text-white max-md:text-xs w-[40px] h-[40px] max-md:w-[25px] max-md:h-[25px] max-md:text-xs flex items-center justify-center bg-[#A3A3A3]",children:"3"}),(0,t.jsx)("p",{className:"text-[#A3A3A3] max-md:text-xs",children:"PAYMENT"})]})]}),(0,t.jsxs)("div",{className:"flex max-md:flex-col gap-5",children:[(0,t.jsxs)("div",{className:r().formwrapper+" border-r border-r-[#808080] pr-5 w-2/3 max-md:w-full max-md:border-r-0 flex flex-col gap-5",children:[(0,t.jsxs)("div",{className:r().addresses,children:[(0,t.jsx)("p",{className:"font-bold mb-2",children:"SAVED DELIVERY ADDRESSES"}),(0,t.jsx)("ul",{className:"flex flex-col gap-5",children:null==s?void 0:s.map(e=>(0,t.jsx)("li",{children:(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:r().wrapper+" border rounded-lg p-3 flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsxs)("div",{className:r().wrapper__header+" flex gap-2 items-center mt-3 ml-3",children:[(null==e?void 0:e.id)==i?(0,t.jsx)("div",{className:"w-4 h-4 flex justify-center items-center border border-[#909090]",children:(0,t.jsx)("div",{className:"w-[6px] h-[6px] cursor-pointer bg-[#27bdbe]",onClick:()=>E(null==e?void 0:e.id)})}):(0,t.jsx)("div",{className:"w-4 h-4 border border-[#909090] cursor-pointer border-black",onClick:()=>E(null==e?void 0:e.id)}),(0,t.jsx)("p",{children:null==e?void 0:e.first_name_address})]}),(0,t.jsxs)("div",{className:r().wrapper__body+" flex flex-col gap-2 mt-2",children:[(0,t.jsx)("p",{className:"font-bold mb-2 text-sm max-md:text-xs",children:null==_?void 0:_.first_name}),(0,t.jsx)("p",{className:"text-sm max-md:text-xs",children:null==e?void 0:e.address}),(0,t.jsx)("p",{className:"text-sm max-md:text-xs",children:(null==e?void 0:e.city)+" , "+(null==e?void 0:e.emirats)+" , "+(null==e?void 0:e.country)}),(0,t.jsx)("p",{className:"text-sm max-md:text-xs",children:null==e?void 0:e.additional_information}),(0,t.jsx)("p",{className:"text-sm max-md:text-xs",children:null==e?void 0:e.phone_number})]})]}),(0,t.jsx)("div",{className:r().wrapper__footer+" flex items-center justify-end gap-6",children:(0,t.jsx)("div",{className:r().remove+" flex gap-1 items-center cursor-pointer",onClick:()=>A(null==e?void 0:e.id),children:(0,t.jsx)("p",{className:"text-[10px]",children:"Delete"})})})]})})}))})]}),(0,t.jsx)(p(),{href:"/add-address",children:(0,t.jsxs)("div",{className:r().addnew+" flex items-center gap-2",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",children:(0,t.jsx)("path",{d:"M13 5C13 4.44772 12.5523 4 12 4C11.4477 4 11 4.44772 11 5V11H5C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13H11V19C11 19.5523 11.4477 20 12 20C12.5523 20 13 19.5523 13 19V13H19C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11H13V5Z",fill:"#35383F"})}),(0,t.jsx)("p",{className:"text-xs max-md:text-xs",children:"ADD NEW ADDRESS"})]})})]}),(0,t.jsxs)("div",{className:r().total+" w-1/3 max-md:w-full p-2 flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:r().title+" mb-3 flex items-center justify-center gap-1",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",children:[(0,t.jsx)("path",{d:"M4.95841 1.4165H4.25008C2.12508 1.4165 1.41675 2.68442 1.41675 4.24984V4.95817V14.8748C1.41675 15.4628 2.08258 15.7957 2.55008 15.4415L3.76133 14.5348C4.04466 14.3223 4.44133 14.3507 4.69633 14.6057L5.87216 15.7886C6.14841 16.0648 6.60175 16.0648 6.878 15.7886L8.068 14.5986C8.31591 14.3507 8.71258 14.3223 8.98883 14.5348L10.2001 15.4415C10.6676 15.7886 11.3334 15.4557 11.3334 14.8748V2.83317C11.3334 2.054 11.9709 1.4165 12.7501 1.4165H4.95841ZM4.22883 9.92359C3.83925 9.92359 3.5205 9.60484 3.5205 9.21525C3.5205 8.82567 3.83925 8.50692 4.22883 8.50692C4.61841 8.50692 4.93716 8.82567 4.93716 9.21525C4.93716 9.60484 4.61841 9.92359 4.22883 9.92359ZM4.22883 7.09025C3.83925 7.09025 3.5205 6.7715 3.5205 6.38192C3.5205 5.99234 3.83925 5.67359 4.22883 5.67359C4.61841 5.67359 4.93716 5.99234 4.93716 6.38192C4.93716 6.7715 4.61841 7.09025 4.22883 7.09025ZM8.50008 9.7465H6.37508C6.08466 9.7465 5.84383 9.50567 5.84383 9.21525C5.84383 8.92484 6.08466 8.684 6.37508 8.684H8.50008C8.7905 8.684 9.03133 8.92484 9.03133 9.21525C9.03133 9.50567 8.7905 9.7465 8.50008 9.7465ZM8.50008 6.91317H6.37508C6.08466 6.91317 5.84383 6.67234 5.84383 6.38192C5.84383 6.0915 6.08466 5.85067 6.37508 5.85067H8.50008C8.7905 5.85067 9.03133 6.0915 9.03133 6.38192C9.03133 6.67234 8.7905 6.91317 8.50008 6.91317Z",fill:"#292D32"}),(0,t.jsx)("path",{d:"M12.757 1.4165V2.479C13.2245 2.479 13.6708 2.67025 13.9966 2.989C14.3366 3.33609 14.5208 3.78234 14.5208 4.24984V5.964C14.5208 6.48817 14.287 6.729 13.7558 6.729H12.3958V2.84025C12.3958 2.64192 12.5587 2.479 12.757 2.479V1.4165ZM12.757 1.4165C11.9708 1.4165 11.3333 2.054 11.3333 2.84025V7.7915H13.7558C14.8749 7.7915 15.5833 7.08317 15.5833 5.964V4.24984C15.5833 3.47067 15.2645 2.76234 14.7545 2.24525C14.2374 1.73525 13.5362 1.42359 12.757 1.4165C12.7641 1.4165 12.757 1.4165 12.757 1.4165Z",fill:"#292D32"})]}),(0,t.jsx)("p",{className:"font-bold text-sm",children:"ORDER SUMMARY"})]}),(0,t.jsxs)("div",{className:r().desc+" flex flex-col gap-2 max-md:w-full",children:[(0,t.jsxs)("div",{className:r().number+" flex items-center justify-between",children:[(0,t.jsx)("p",{children:"item"}),(0,t.jsx)("p",{children:null==h?void 0:h.length})]}),(0,t.jsxs)("div",{className:r().shipping+" flex items-center justify-between",children:[(0,t.jsx)("p",{children:"Shipping"}),(0,t.jsx)("p",{children:"free"})]}),(0,t.jsxs)("div",{className:r().totalprice+" p-2 flex items-center justify-between",children:[(0,t.jsx)("p",{children:"Total (VAT incl.)"}),(0,t.jsxs)("p",{children:[N," AED"]})]})]}),(0,t.jsxs)("div",{className:r().promocode+" w-1/2 mx-auto mt-3 flex flex-col gap-2",children:[(0,t.jsx)("p",{className:r().title+" text-xs text-center text-[#868686] cursor-pointer",onClick:()=>b(!C),children:"Have a Promo Code?"}),!0==C?(0,t.jsx)("input",{className:"w-full rounded-lg border border-[#A1A1A1]",type:"text"}):""]}),(0,t.jsx)("div",{className:r().cart__button+" flex items-center justify-center",children:(0,t.jsx)("div",{className:r().button+" flex items-center justify-center",onClick:s=>{s.preventDefault(),g(!0);let l={product:h.map(e=>{var s;return{product_id:e.id,quantity:e.quantity,size:null==e?void 0:e.size,color:null==e?void 0:null===(s=e.color)||void 0===s?void 0:s.color}}),address_id:i};d.Z.post(x.n+"order/pay/",l,{headers:{Authorization:"Bearer "+e}}).then(e=>{var s;let l=null==e?void 0:null===(s=e.data)||void 0===s?void 0:s["redirect to : "];l?window.location.href=l:console.log("No redirect URL found in the response.")}).catch(e=>{console.log(e)}).finally(()=>{g(!1)})},children:(null==s?void 0:s.length)>0?(0,t.jsx)(t.Fragment,{children:v?(0,t.jsx)("div",{className:r().button+" flex ml-auto",children:(0,t.jsxs)(c.u8,{children:[(0,t.jsx)("svg",{class:"animate-spin h-5 w-5 mr-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",children:(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"transparent","stroke-dasharray":"31.42 31.42","stroke-dashoffset":"10"})}),"Processing..."]})}):(0,t.jsx)("div",{className:r().button+" flex ml-auto",children:(0,t.jsx)(c.u8,{children:"PROCEED TO CHECKOUT"})})}):""})}),(0,t.jsxs)("div",{className:r().payments+" flex mt-2 gap-1 items-center mx-auto",children:[(0,t.jsx)("div",{className:r().item,children:(0,t.jsx)("img",{src:"../../images/lvisa.png",alt:"image"})}),(0,t.jsx)("div",{className:r().item,children:(0,t.jsx)("img",{src:"../../images/linter.png",alt:"image"})}),(0,t.jsx)("div",{className:r().item,children:(0,t.jsx)("img",{src:"../../images/lmaster.png",alt:"image"})}),(0,t.jsx)("div",{className:r().item,children:(0,t.jsx)("img",{src:"../../images/lapple.png",alt:"image"})}),(0,t.jsx)("div",{className:r().item,children:(0,t.jsx)("img",{src:"../../images/lblue.png",alt:"image"})})]})]})]})]})})};function u(){return(0,t.jsx)(h,{})}},3896:function(e){e.exports={formpage:"styles_formpage__DISYV",totalprice:"styles_totalprice__fU841",active:"styles_active__cx1Ui"}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=9348)}),_N_E=e.O()}]);